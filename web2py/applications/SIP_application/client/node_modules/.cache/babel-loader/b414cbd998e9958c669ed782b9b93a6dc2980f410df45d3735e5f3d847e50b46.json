{"ast":null,"code":"/* StudentRegister.ts */ // Import necessary classes\nimport React,{useState}from'react';import{StudentRepository}from'../repository/StudentRepository';import{StudentFactory}from'../factory/StudentFactory';import{StudentController}from'../controllers/StudentController';// Component for student registration\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export function StudentRegister(){const studentRepository=new StudentRepository();const studentFactory=new StudentFactory();const studentController=new StudentController(studentRepository,studentFactory);// Initialize student state\nconst[student,setStudent]=useState(studentFactory.create('',''));const[isSubmitted,setIsSubmitted]=useState(false);const[error,setError]=useState(null);// Handle input change\nconst handleInputChange=event=>{const{name,value}=event.target;setStudent({...student,[name]:value});};// Handle form submission\nconst handleSubmit=async event=>{event.preventDefault();setIsSubmitted(false);setError(null);// Validate student name and email\nif(!student.name||!student.email){alert('Please fill in all fields');return;}// Validate student name\nif(student.name.length<3){alert('The username must be at least 3 characters long');return;}// Validate student email\nconst emailRegex=/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;if(!emailRegex.test(student.email)){alert('Please enter a valid email');return;}// Register student\ntry{await studentController.registerStudent(student.name,student.email);setIsSubmitted(true);setStudent(studentFactory.create('',''));// Reset the form\n}catch(error){// Handle error\nif(error instanceof Error){setError(error.message);// Display the error message from the server\n}else{console.error(error);}}};// Render component\nreturn/*#__PURE__*/_jsxs(\"main\",{className:\"h-screen flex flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-4xl mb-4 md:mb-6 font-bold hover:drop-shadow-[0_0_0.3rem_#ffffff70] text-gray-200 hover:duration-300 text-center duration-400\",children:\"Student Register\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-b from-black from-75% to-violet-900 hover:duration-200 grid justify-items-center rounded-3xl py-6 md:py-5 shadow-md shadow-purple-600 border-[1px] hover:shadow-violet-500 hover:shadow-lg border-purple-950 w-full max-w-screen-lg mx-auto\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4 md:space-y-3 p-4 md:p-6 w-full mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm mb-2\",children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Student name:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:student.name,onChange:handleInputChange,className:\"block w-full mt-4 hover:drop-shadow-[0_0_0.1rem_#ffffff70] duration-400 p-2 md:p-1 text-center text-gray-300 md:text-[15px] hover:text-white border border-purple-400 shadow shadow-purple-950 hover:duration-300 hover:shadow-inner hover:shadow-purple-700 rounded-full\",required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Email:\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",value:student.email,onChange:handleInputChange,className:\"block w-full mt-4 hover:drop-shadow-[0_0_0.1rem_#ffffff70] duration-400 p-2 md:p-1 text-center text-gray-300 md:text-[15px] hover:text-white border border-purple-400 shadow shadow-purple-950 hover:duration-300 hover:shadow-inner hover:shadow-purple-700 rounded-full\",required:true})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"block w-full mt-4 hover:drop-shadow-[0_0_0.1rem_#ffffff70] duration-400 p-2 md:p-1 text-center text-gray-300 md:text-[15px] hover:text-white border border-purple-400 shadow shadow-purple-950 hover:duration-300 hover:shadow-inner hover:shadow-purple-700 rounded-full\",children:\"Register\"}),isSubmitted&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-center text-green-300\",children:\"Student has been registered successfully!\"}),error&&/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4 text-center text-red-500\",children:[\"Error registering student: \",error]})]})})]});}","map":{"version":3,"names":["React","useState","StudentRepository","StudentFactory","StudentController","jsx","_jsx","jsxs","_jsxs","StudentRegister","studentRepository","studentFactory","studentController","student","setStudent","create","isSubmitted","setIsSubmitted","error","setError","handleInputChange","event","name","value","target","handleSubmit","preventDefault","email","alert","length","emailRegex","test","registerStudent","Error","message","console","className","children","onSubmit","type","onChange","required"],"sources":["/home/jegomez/Web2py_application/web2py/applications/SIP_application/client/src/components/StudentRegister.tsx"],"sourcesContent":["/* StudentRegister.ts */\n\n// Import necessary classes\nimport React, { useState } from 'react';\nimport { StudentModel } from '../models/StudentModel';\nimport { StudentRepository } from '../repository/StudentRepository';\nimport { StudentFactory } from '../factory/StudentFactory';\nimport { StudentController } from '../controllers/StudentController';\n\n// Component for student registration\nexport function StudentRegister() {\n    const studentRepository = new StudentRepository();\n    const studentFactory = new StudentFactory();\n    const studentController = new StudentController(studentRepository, studentFactory);\n\n    // Initialize student state\n    const [student, setStudent] = useState<StudentModel>(studentFactory.create('', ''));\n    const [isSubmitted, setIsSubmitted] = useState(false);\n    const [error, setError] = useState<string | null>(null);\n\n    // Handle input change\n    const handleInputChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = event.target;\n        setStudent({ ...student, [name]: value });\n    };\n\n    // Handle form submission\n    const handleSubmit = async (event: React.FormEvent) => {\n        event.preventDefault();\n        setIsSubmitted(false);\n        setError(null);\n\n        // Validate student name and email\n        if (!student.name || !student.email) {\n            alert('Please fill in all fields');\n            return;\n        }\n\n        // Validate student name\n        if (student.name.length < 3) {\n            alert('The username must be at least 3 characters long');\n            return;\n        }\n\n        // Validate student email\n        const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n        if (!emailRegex.test(student.email)) {\n            alert('Please enter a valid email');\n            return;\n        }\n\n        // Register student\n        try {\n            await studentController.registerStudent(student.name, student.email);\n            setIsSubmitted(true);\n            setStudent(studentFactory.create('', '')); // Reset the form\n        } catch (error) {\n            // Handle error\n            if (error instanceof Error) {\n                setError(error.message); // Display the error message from the server\n            } else {\n                console.error(error);\n            }\n        }\n    };\n\n    // Render component\n    return (\n        <main className=\"h-screen flex flex-col items-center justify-center\">\n            <h2 className=\"text-4xl mb-4 md:mb-6 font-bold hover:drop-shadow-[0_0_0.3rem_#ffffff70] text-gray-200 hover:duration-300 text-center duration-400\">Student Register</h2>\n            <div className='bg-gradient-to-b from-black from-75% to-violet-900 hover:duration-200 grid justify-items-center rounded-3xl py-6 md:py-5 shadow-md shadow-purple-600 border-[1px] hover:shadow-violet-500 hover:shadow-lg border-purple-950 w-full max-w-screen-lg mx-auto'>\n                <form onSubmit={handleSubmit} className=\"space-y-4 md:space-y-3 p-4 md:p-6 w-full mx-auto\">\n                    <div className=\"text-sm mb-2\">\n                        <label>\n                            Student name:\n                            <input type=\"text\" name=\"name\" value={student.name} onChange={handleInputChange} className=\"block w-full mt-4 hover:drop-shadow-[0_0_0.1rem_#ffffff70] duration-400 p-2 md:p-1 text-center text-gray-300 md:text-[15px] hover:text-white border border-purple-400 shadow shadow-purple-950 hover:duration-300 hover:shadow-inner hover:shadow-purple-700 rounded-full\" required />\n                        </label>\n                        <label>\n                            Email:\n                            <input type=\"email\" name=\"email\" value={student.email} onChange={handleInputChange} className=\"block w-full mt-4 hover:drop-shadow-[0_0_0.1rem_#ffffff70] duration-400 p-2 md:p-1 text-center text-gray-300 md:text-[15px] hover:text-white border border-purple-400 shadow shadow-purple-950 hover:duration-300 hover:shadow-inner hover:shadow-purple-700 rounded-full\" required />\n                        </label>\n                    </div>\n                    <button type=\"submit\" className=\"block w-full mt-4 hover:drop-shadow-[0_0_0.1rem_#ffffff70] duration-400 p-2 md:p-1 text-center text-gray-300 md:text-[15px] hover:text-white border border-purple-400 shadow shadow-purple-950 hover:duration-300 hover:shadow-inner hover:shadow-purple-700 rounded-full\">Register</button>\n                    {isSubmitted && <p className=\"mt-4 text-center text-green-300\">Student has been registered successfully!</p>}\n                    {error && <p className=\"mt-4 text-center text-red-500\">Error registering student: {error}</p>}\n                </form>\n            </div>\n        </main>\n    );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}